<!DOCTYPE html>
<html
  lang="en"
  xmlns="https://www.thymeleaf.org"
  xmlns:layout="http://www.ultreaq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout/main}">
  <body>
    <section layout:fragment="container">
      <h3 th:text="${title}"></h3>
      <div class="mb-2">
        <button type="button" class="btn btn-primary" onclick="addBooks()">
          Add Books
        </button>
      </div>
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead>
            <tr class="table-dark">
              <th scope="col">#</th>
              <th scope="col">Title</th>
              <th scope="col">Sypnosis</th>
              <th scope="col">Published At</th>
              <th scope="col">Author Name</th>
              <th scope="col">Category Name</th>
              <th scope="col">Publisher</th>
              <th scope="col">Stock</th>
              <th scope="col">Handle</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="book,iter : ${books}">
              <th scope="row" th:text="${iter.count}"></th>
              <td th:text="${book.title}"></td>
              <td th:text="${book.synopsis}"></td>
              <td th:text="${book.published_at}"></td>
              <td th:text="${book.authorsName}"></td>
              <td th:text="${book.categoryName}"></td>
              <td th:text="${book.publisherName}"></td>
              <td th:text="${book.stock}"></td>
              <td>
                <button
                  type="button"
                  class="btn btn-success"
                  th:value="${book.id}"
                  onclick="detailBooks(this.value)">
                  <i class="bi bi-eye"></i>
                </button>
                <button
                  type="button"
                  class="btn btn-primary"
                  th:value="${book.id}"
                  onclick="editBooks(this.value)">
                  <i class="bi bi-pencil-square"></i>
                </button>
                <button
                  type="button"
                  class="btn btn-danger"
                  th:value="${book.id}"
                  onclick="deleteBooks(this.value)">
                  <i class="bi bi-trash"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        <!-- Modal -->
        <div
          class="modal fade"
          id="myModal"
          data-bs-backdrop="static"
          data-bs-keyboard="false"
          tabindex="-1"
          aria-labelledby="formLabel"
          aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="titleModal"></h1>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"></button>
              </div>
              <div class="modal-body"></div>
            </div>
          </div>
        </div>
      </div>
      <script src="js/books.js"></script>
    </section>
  </body>
</html>
